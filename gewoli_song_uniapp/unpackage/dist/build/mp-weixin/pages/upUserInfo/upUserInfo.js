(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/upUserInfo/upUserInfo"],{"4a5c":function(e,n,t){"use strict";t.r(n);var o=t("6da8"),i=t.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=i.a},"5f2a":function(e,n,t){"use strict";t.r(n);var o=t("c432"),i=t("4a5c");for(var r in i)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(r);t("7b79");var a=t("f0c5"),u=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,"54f46894",null,!1,o["a"],void 0);n["default"]=u.exports},"6da8":function(e,n,t){"use strict";(function(e){var o=t("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(t("2eee")),r=o(t("c973")),a=(t("3c43"),t("4a78")),u={data:function(){return{list:[{checked:!1,disabled:!1}],form:{birthDate:"",cardNo:"",competitionZone:"",entryDeclaration:"",name:"",participatingPhoto:"",remark:"",reviewPhone:"",sex:0,stageName:"",workUnit:""},loginType:0,calendarShow:!1,action:a.BASEURL+"/file/ossUpload?type=1",header:{Authorization:"Bearer "+e.getStorageSync("token")||!1},name:"file",twoElementsFlag:!1,twoElementsText:"",pickerShow:!1}},computed:{titleHeight:function(){return getApp().globalData.titleHeight},userInfo:function(){return e.getStorageSync("userInfo")}},onLoad:function(e){var n=e.loginType;this.loginType=n},methods:{takeAdd:function(e){this.form.competitionZone="".concat(e.province.label,",").concat(e.city.label,",").concat(e.area.label)},twoElements:function(){var e={cardNo:this.form.cardNo,name:this.form.name};this.$req.post("user/auth",e).then((function(e){}))},imageUploadSuccess:function(e){this.form.participatingPhoto=e.msg},calendarChange:function(e){console.log(e),this.form.birthDate=e.result},submit:function(){var n=this;return(0,r.default)(i.default.mark((function t(){var o,r,a;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.validate()){t.next=2;break}return t.abrupt("return",!1);case 2:n.form.id=e.getStorageSync("userInfo").id,o=n.form,r="user/musiciansSubmit","3"==n.loginType&&(r="user/producerSubmit"),{name:o.name,cardNo:o.idCard},a={cardNo:n.form.cardNo,name:n.form.name},n.$req.post("user/auth",a).then((function(t){"身份证号和姓名一致"==t.data.msg&&n.$req.post(r,n.form).then((function(n){200==n.code?(e.showToast({title:"提交成功！",icon:"none"}),setTimeout((function(){e.navigateBack()}),1e3)):e.showToast({title:"请求失败!请稍后重试！",icon:"none"})})),e.showToast({title:t.data.msg,icon:"none"})}));case 9:case"end":return t.stop()}}),t)})))()},validate:function(){var n=!0,t="",o=this.form;return o.birthDate&&o.cardNo&&o.competitionZone&&o.entryDeclaration&&o.name&&o.participatingPhoto&&o.remark&&o.reviewPhone&&o.sex&&o.stageName&&o.workUnit||(t="请完善信息",n=!1,console.log(this.form)),n||e.showToast({title:t,icon:"none"}),n}}};n.default=u}).call(this,t("543d")["default"])},"7b79":function(e,n,t){"use strict";var o=t("9fc3"),i=t.n(o);i.a},"993d":function(e,n,t){"use strict";(function(e,n){var o=t("4ea4");t("4812");o(t("66fd"));var i=o(t("5f2a"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(i.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},"9fc3":function(e,n,t){},c432:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return o}));var o={uIcon:function(){return t.e("uview-ui/components/u-icon/u-icon").then(t.bind(null,"7154"))},uRadioGroup:function(){return Promise.all([t.e("common/vendor"),t.e("uview-ui/components/u-radio-group/u-radio-group")]).then(t.bind(null,"f838"))},uRadio:function(){return t.e("uview-ui/components/u-radio/u-radio").then(t.bind(null,"8391"))},uPicker:function(){return Promise.all([t.e("common/vendor"),t.e("uview-ui/components/u-picker/u-picker")]).then(t.bind(null,"def1"))},uUpload:function(){return t.e("uview-ui/components/u-upload/u-upload").then(t.bind(null,"6ec9"))},uCalendar:function(){return t.e("uview-ui/components/u-calendar/u-calendar").then(t.bind(null,"efd8"))},uCheckboxGroup:function(){return Promise.all([t.e("common/vendor"),t.e("uview-ui/components/u-checkbox-group/u-checkbox-group")]).then(t.bind(null,"fda7"))},uCheckbox:function(){return t.e("uview-ui/components/u-checkbox/u-checkbox").then(t.bind(null,"5d28"))}},i=function(){var e=this,n=e.$createElement;e._self._c;e._isMounted||(e.e0=function(n){e.pickerShow=!0},e.e1=function(n){e.calendarShow=!0})},r=[]}},[["993d","common/runtime","common/vendor"]]]);