(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/list"],{2597:function(t,n,e){"use strict";var i=e("bdf6"),o=e.n(i);o.a},2919:function(t,n,e){"use strict";e.r(n);var i=e("fe80"),o=e.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(a);n["default"]=o.a},4877:function(t,n,e){"use strict";e.r(n);var i=e("bd75"),o=e("2919");for(var a in o)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(a);e("2597");var u=e("f0c5"),s=Object(u["a"])(o["default"],i["b"],i["c"],!1,null,"116639eb",null,!1,i["a"],void 0);n["default"]=s.exports},aa44:function(t,n,e){"use strict";(function(t,n){var i=e("4ea4");e("4812");i(e("66fd"));var o=i(e("4877"));t.__webpack_require_UNI_MP_PLUGIN__=e,n(o.default)}).call(this,e("bc2e")["default"],e("543d")["createPage"])},bd75:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return i}));var i={uSticky:function(){return e.e("uview-ui/components/u-sticky/u-sticky").then(e.bind(null,"66c3"))},uTabs:function(){return Promise.all([e.e("common/vendor"),e.e("uview-ui/components/u-tabs/u-tabs")]).then(e.bind(null,"6941"))},uLine:function(){return e.e("uview-ui/components/u-line/u-line").then(e.bind(null,"d2a4"))},uImage:function(){return e.e("uview-ui/components/u-image/u-image").then(e.bind(null,"6c11"))}},o=function(){var t=this.$createElement;this._self._c},a=[]},bdf6:function(t,n,e){},fe80:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={data:function(){return{tabsIndex:0,allList:[{tabId:0,name:"全部"},{tabId:1,name:"待付款"},{tabId:2,name:"待收货"},{tabId:3,name:"已完成"},{tabId:4,name:"已取消"},{tabId:5,name:"售后"}],orderList:[]}},onLoad:function(t){var n=t.tabsIndex;n&&(this.tabsIndex=n),this.getList(0)},methods:{getList:function(t){var n=this,e={};t&&(e={status:t}),this.$req.get("system/goodsOrder/list",e).then((function(t){n.orderList=t.rows}))},toDetails:function(t){console.log(JSON.stringify(t)),this.toUrl("/pages/order/orderDetails?oItem="+JSON.stringify(t))},tabClick:function(t){this.tabsIndex=t},confirm:function(n,e){var i=this,o={id:n.id,status:3};this.$req.put("system/goodsOrder",o).then((function(o){200==o.code&&(t.showToast({title:"操作成功",icon:"none"}),setTimeout((function(){n.status=3,i.$set(i.orderList,e,n)}),1e3))}))},cancelClick:function(n,e){var i=this;t.showModal({title:"温馨提示",content:"确定要取消该订单吗？",cancelText:"取消",confirmText:"确定",success:function(o){if(o.confirm){var a={id:n.id,status:4};i.$req.put("system/goodsOrder",a).then((function(o){200==o.code&&(t.showToast({title:"操作成功",icon:"none"}),setTimeout((function(){n.status=4,i.$set(i.orderList,e,n)}),1e3))}))}}})},payClick:function(n){var e=this;console.log("item===支付====",n);var i={orderNumber:n.id};this.$req.put("goodsOrder/payment",i).then((function(n){t.requestPayment({provider:"wxpay",timeStamp:n.data.timeStamp,nonceStr:n.data.nonceStr,package:"prepay_id="+n.data.packageStr,signType:"MD5",paySign:n.data.paySign,success:function(n){t.showToast({title:"支付成功",icon:"none"}),setTimeout((function(){e.toUrl("/pages/order/list")}),500)},fail:function(n){t.showToast({title:"支付失败,请重试",icon:"none"})}})}))}}};n.default=e}).call(this,e("543d")["default"])}},[["aa44","common/runtime","common/vendor"]]]);