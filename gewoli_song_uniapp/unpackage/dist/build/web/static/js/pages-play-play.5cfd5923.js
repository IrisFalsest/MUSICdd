(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-play-play"],{"064f":function(t,e,i){"use strict";i.r(e);var n=i("d1e2"),a=i("be74");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("a8fa");var c=i("f0c5"),r=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"bf04b60e",null,!1,n["a"],void 0);e["default"]=r.exports},"0f2e":function(t,e,i){var n=i("35d0");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("1d9f517d",n,!0,{sourceMap:!1,shadowMode:!1})},1734:function(t,e,i){var n=i("2f16");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("75885fda",n,!0,{sourceMap:!1,shadowMode:!1})},"1c5f":function(t,e,i){"use strict";i.r(e);var n=i("f8f1"),a=i("7fc8");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("9403");var c=i("f0c5"),r=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"88f94d0c",null,!1,n["a"],void 0);e["default"]=r.exports},"2f16":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */[data-v-bf04b60e] .u-tabbar__content .u-tabbar__content__circle .u-icon__img{width:%?82?%!important;height:%?82?%!important}[data-v-bf04b60e] .u-tabbar__content .u-icon__img{width:%?48?%!important;height:%?48?%!important}[data-v-bf04b60e] .u-tabbar__content__circle__border{top:0!important}[data-v-bf04b60e] .u-tabbar__content__circle__button{top:4px!important}uni-button[data-v-bf04b60e]{font-size:%?24?%;border:0;background:0;padding-left:0;padding-right:0;height:%?64?%}uni-button[data-v-bf04b60e]::after{border:0;background:0;height:0}.content[data-v-bf04b60e]{display:flex;flex-direction:column;align-items:center;width:100vw;height:100vh;background:linear-gradient(180deg,#304f57,#152328)}.content .btns[data-v-bf04b60e]{width:92vw;margin:%?50?% auto 0;display:flex;align-items:center}uni-image[data-v-bf04b60e]{margin:auto;width:%?64?%;height:%?64?%}.share[data-v-bf04b60e]{width:%?48?%;height:%?48?%}.play[data-v-bf04b60e]{width:%?84?%;height:%?84?%}',""]),t.exports=e},3005:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3");var n={props:{title:{type:String,default:""},sTop:{type:Number,default:0},haveLogo:{type:Boolean,default:!1},haveJian:{type:Boolean,default:!0},haveBack:{type:Boolean,default:!1}},computed:{titleHeight:function(){return getApp().globalData.titleHeight}},data:function(){return{color:"#fff"}},watch:{sTop:function(t){this.color=t>50?"#000":"#fff"}},methods:{}};e.default=n},"35d0":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */[data-v-2d30980c] .u-tabbar__content .u-tabbar__content__circle .u-icon__img{width:%?82?%!important;height:%?82?%!important}[data-v-2d30980c] .u-tabbar__content .u-icon__img{width:%?48?%!important;height:%?48?%!important}[data-v-2d30980c] .u-tabbar__content__circle__border{top:0!important}[data-v-2d30980c] .u-tabbar__content__circle__button{top:4px!important}.head[data-v-2d30980c]{width:100vw;height:%?72?%;box-sizing:initial}.p[data-v-2d30980c]{position:fixed;top:0;z-index:999}.title[data-v-2d30980c]{display:flex;align-content:center;justify-content:center;position:relative;width:100vw;font-size:%?40?%;font-weight:400;z-index:2}.title uni-image[data-v-2d30980c], .title .icon[data-v-2d30980c]{position:absolute;width:%?72?%;height:%?72?%;left:%?52?%}.title uni-view[data-v-2d30980c]{height:%?72?%}.jian[data-v-2d30980c]{position:fixed;top:0;background:#fff;width:100vw;height:%?72?%;box-sizing:initial;box-shadow:0 0 %?10?% #edc7a7}',""]),t.exports=e},3823:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAe5JREFUSEu1lrFrFEEYxX+vsEy0UFBrG4OgYAyKEbGSgBgNaEBsDCEgNhY2miJaGBARu4BCNJ0SBdEYsBATAppG/QdsYhMbTaxsn/Mde+E43OxNzhvYO9ibfb+db94370QxbM8Cp4Hu+r2S7ylJ1/71m+2nwH7gjKSfMUfxYdvFA4+BHxWAOUlfSgDDwHPglaShGsD2a+CspBqs3WF7DHgETEoaD8A6MC/pcrviDeW+BdwF7gcgynMnLeB2LsD23vRyR4B+4DhwAOhq1NkSwPZhIEoRV4w/wEfgE/ALOASMAPeyAbYngZuF8BwQxvggKSBhmBPAEjAraTgLYPsJcCWZ4mvSmpD0trEctncC74DdQJ+k1ZYBth8C10NA0kCJTWMfJ4ALkl7WbVq5ybbPhbeBaUmjZWZIzdoDHJM0XZ9TuQLbO4CFZLtt6a3CJVmjFcBVYAoYlPQmS73o5E1LZDtqeVLSrlxx23taWcFaaqT3ki7mAFL/1jZ8U0ByzvbknN/ADUkPOgHYB3wDLkl61gnA0ZQRy8ApSYv/HVC0ftRyRtJKRwA5ok3HRvUmb1W8YeU1F0XgLEo6345g87NFPg9tRCbQW5a1ueAiLz4DL5pDfyYdx99zBZvmHwTicCRyfiPoM/62VPGjMZckDcbEv+HoEr84eatIAAAAAElFTkSuQmCC"},"3a9d":function(t,e,i){"use strict";i.r(e);var n=i("3005"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"419c":function(t,e,i){t.exports=i.p+"static/logo.png"},"4d78":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".lyric-main[data-v-88f94d0c]{position:relative}.lyric-show[data-v-88f94d0c]{position:absolute;overflow-anchor:none}.lyric-show[data-v-88f94d0c] ::-webkit-scrollbar{display:none;width:0!important;height:0!important;-webkit-appearance:none;background:transparent}.lyric-show uni-text[data-v-88f94d0c]{display:flex;flex-direction:row;align-items:center;justify-content:space-around;text-align:center;white-space:nowrap;height:32px;font-size:16px;overflow:auto}.center-view[data-v-88f94d0c]{position:absolute;display:flex;flex-direction:row;align-items:center;white-space:nowrap;width:100%;opacity:.6;overflow:visible;pointer-events:none}.center-btn[data-v-88f94d0c]{position:absolute;left:0;width:20%;text-align:left;padding:0 5px;color:#fff;pointer-events:all}.center-btn[data-v-88f94d0c]:active{opacity:.6}.center-line[data-v-88f94d0c]{position:absolute;left:20%;width:60%;height:1px;background-color:#fff;pointer-events:none}.center-time[data-v-88f94d0c]{position:absolute;right:0;width:20%;text-align:right;padding:0 5px;color:#fff}.check[data-v-88f94d0c]{position:absolute;float:left;padding:0 5px;opacity:.5}.selectControl[data-v-88f94d0c]{position:absolute;bottom:0;display:flex;flex-direction:row;align-items:center;justify-content:space-around;width:100%;background-color:grey}.selectControl uni-view[data-v-88f94d0c]:active{opacity:.8}.selectControl uni-view[data-v-88f94d0c]{margin:5px 0;padding:5px 2px;width:30%;overflow:hidden;white-space:nowrap;text-align:center;font-size:16px;border-radius:30px;background-color:grey}",""]),t.exports=e},5367:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAelJREFUSEu1lL1LllEYxn/X1hJCNQSBYzj1QUNQFC4NgkFDDQqBg0a1hPQx6GJjUS1NQS0FoSBES4SLikRLZAoRObQ09AEt+QdcPredVx7tfT3nGd4DD4dznnOu3/15RJeHuqxPI4DtM2GQpKVSw4oBtqeAi0l4VlKss6MJwEB/OADMqyJk1dPh7Llk/UlJA3HY9jywWOJFkRWuCGG9pMUECE+KvMgCbL8B/ki6XHc1efFE0vRuIdgC2D4AjABH0ne0drFP0tcdgGPAcm3vU1ovS3rc2q8DIgwvgFVgJWZJv7IJ+peTg8BxIKAxX2oVwU7AUM7lHND2FSBCt6ldB1wAXgGjkp7lhNr9T+KPgLOSPm4DpOo4B8wBY5KeNoHYvgFMAAMt8f8ACXIKeNcEYjuER6PT6+JtAQlyAvhQ0q22D6fQDkuK4tg2OvZBNFcDwPuqNPe3C2lbgO29Val9ltRbkgfbf4FDktaLPLAdT8EtSYOFgHib7kpaKAXcBPZJmmxdsH06RNL6Tj2Zth8APyQ9LAW8rDrytaQZ21G61yIEqQz3APeANeCqpN+2h4DzkoZLASHwM73/USUTkqIJt4bt28B14C0Q0C+S7pcCwtox4Juk553yYLsHGAe+d+r+7HNdkuTdznQdsAF7kMAZT/YK+AAAAABJRU5ErkJggg=="},"7ad6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAO1JREFUSEvFlUFKA0EURF8hiRuFkFUOERAX4sYDuExAiHuP4DLoGUQPkNxHN17FXRJIOZEkDMOM4nR/ptfd/fpX/6ovgpeC76c7gO1LYCvpM6XKxgpsvwMrSTe/AWwPgImkZd2+JIDtMfAKnEu6ygqwfVdI+AycAl/ZALZ7wBMwK704D8D2aC/JRUWOdIDta+ClAAxrtE4D2H4AHoGTho5qDVgDH8DtH15oDdgAOz+EAX6MFinR0cmhn3zQP7RNS5A+MAfusxut3ElhUVGB7MLuDTjLlkVVP+zjeipp8d80jR04KVOsfLa7mZyrgm8OS6AZ285Z4AAAAABJRU5ErkJggg=="},"7d29":function(t,e,i){"use strict";i("7a82");var n=i("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3"),i("ac1f"),i("1276"),i("e9c4");var a=n(i("1c5f")),s={components:{bingLyric:a.default},data:function(){return{centerStyle:{btnImg:"../../static/icon/play.png"},lyricStyle:{},cuAreaStyle:{width:"100vw"},lyrics:[],timer:null,curTime:0,options:{},playStatus:0,playData:[],currentIndex:null,shareParams:{title:"",path:"/pages/tabbar/shopSing/shopSing",imageUrl:""},currentPlay:{},bgAudioManager:null}},watch:{currentPlay:{handler:function(t,e){t&&(this.shareParams.title="邀请您查看音乐《".concat(t.songName,"》")||!1,this.shareParams.imageUrl=t.songCoverPhotoUrl||"")},deep:!0,immediate:!0}},onLoad:function(t){if(this.createAudio(),t.list){var e=JSON.parse(decodeURIComponent(t.list));console.log(e),this.playData=e}var i=this.playData[t.index];this.currentPlay=i,this.currentIndex=Number(t.index),console.log("正在播放索引",this.currentIndex),null!=i.songLyrics?this.lyrics=i.songLyrics.split(/[(\r\n)\r\n]+/):this.lyrics=[],this.options=i,this.makeTime(),this.setSong()},methods:{createAudio:function(){this.curTime=0,clearTimeout(this.$globalDataAudio.timer),this.$globalDataAudio.timer=null,this.$globalDataAudio.destroyAudioCtx(),this.$globalDataAudio.initAudioCtx(),this.$globalDataAudio.hasAudioStatus(),this.bgAudioManager=this.$globalDataAudio.audioCtx},NextSong:function(){this.currentIndex===this.playData.length&&(this.currentIndex=0),console.log("当前索引",this.currentIndex),this.currentIndex++,console.log("更改索引",this.currentIndex),this.stop();var t=this.playData[this.currentIndex%this.playData.length];this.currentPlay=t,null!=t.songLyrics?this.lyrics=t.songLyrics.split(/[(\r\n)\r\n]+/):this.lyrics=[],this.options=t,this.makeTime(),this.setSong()},LastSong:function(){0===this.currentIndex&&(this.currentIndex=this.playData.length),this.currentIndex--,this.stop();var t=this.playData[(this.currentIndex+this.playData.length)%this.playData.length];this.currentPlay=t,null!=t.songLyrics?this.lyrics=t.songLyrics.split(/[(\r\n)\r\n]+/):this.lyrics=[],this.options=t,this.makeTime(),this.setSong()},setSong:function(){var t=this;this.createAudio(),this.$globalDataAudio.stop=0,console.log("正在播放",this.options),this.bgAudioManager.title=this.options.songTitle,this.bgAudioManager.singer=this.options.songName,this.bgAudioManager.coverImgUrl=this.options.songCoverPhotoUrl,this.bgAudioManager.src=this.options.songFileUrl,this.bgAudioManager.play(),0==this.options.isBuy&&(this.$globalDataAudio.timer=setTimeout((function(){t.$globalDataAudio.destroyAudioCtx(),t.$globalDataAudio.audioCtx=null,uni.showModal({title:"提示",content:"试听结束，购买后可播放",success:function(t){t.confirm?(console.log("用户点击确定"),uni.reLaunch({url:"/pages/tabbar/shopSing/shopSing"})):t.cancel&&(console.log("用户点击取消"),uni.reLaunch({url:"/pages/tabbar/shopSing/shopSing"}))}})}),25e3))},audition:function(t,e,i){clearTimeout(this.$globalDataAudio.timer),this.$globalDataAudio.timer=null;var n=this.$globalDataAudio.audioCtx;n.src=t.songFileUrl,n.play()},copy:function(t){console.log("index",t),uni.showModal({content:JSON.stringify(t.lyrics)})},centerBtnClick:function(t){this.bgAudioManager.seek(Number(t.centerTime)||0),this.curTime=t.centerTime,this.bgAudioManager.play()},makeTime:function(){var t=this;this.playStatus=0,this.bgAudioManager.play(),this.timer=setInterval((function(){setTimeout((function(){t.curTime+=.5}),0)}),500)},out:function(t){console.log(t),this.curTime+=t},stop:function(){this.$globalDataAudio.stop=1,this.playStatus=1,this.bgAudioManager.pause(),clearTimeout(this.timer)}},onShareAppMessage:function(t){return{title:this.shareParams.title,path:this.shareParams.path,imageUrl:this.shareParams.imageUrl}}};e.default=s},"7fc8":function(t,e,i){"use strict";i.r(e);var n=i("f138"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},9057:function(t,e,i){var n=i("4d78");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("09aba649",n,!0,{sourceMap:!1,shadowMode:!1})},9321:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAApZJREFUWEfFl72PjFEUxn9PJCJIfBQKCSJC4jNEgQbNRqVYsVlRyEaWhkIoNhLBioLCR0EjgijEhvAHaHwUKERCQiVidQqioJBsjjmT925m3nln5sw7s5lbzcc5z3nuOeee+1zR56U+x6cjAma2DdgNbAFWAAuyDfwGvgIfgBfAG0kW2VxbAmY2qwK8DzgKLI+AAt+B28BEOyItCZjZKuAysDEYOG/2GTgl6Usz/6YEzGwXcB2YWzJ4cvsDnJD0sginkICZ7QRuArO7DJ7c/wHHJXl/1K0GAlnaHwHzehQ8wfwF9ufLUUfAzPz700rzrO1x8AT3ERiWNJV+yBM4AIzPUPAEe0aSZ7i6pglku38GLAsQ+AUsCtgVmUxKGigisAO4FwQ9AvgRPVmyUQ9JepvPwGlgJEhgVNIrM1sPXAFWBv2S2R1JPl/qSvAA2BoEqhJwWzPzOXEWGAz6utl7Sd5vdQReA4uDINMEkr2Z7a18Pg/MD2D8lOQlryPwCfC5H1kNBLJseAP79NzQBmRK0rqZILC0ckNeAzaXIdBtCfYAFyoZWBhIYWEJHmb3fMCf2iacA/gJqjZVcL2TdDBfgjHgcBAgHcM1wFVgddAvmd2VdClPwNXO/SDQaDYxnbRnoNM1IslLXi/JzMxHcUT1/ACWdBo1s3e1NJCUUv4yGgIulgSOup2T5P1WXXkCPgcmupBg7Ui4RBus1YnNBMnjHkixPBmXZkMtBUnyyPTgjZI3XVEWXJIdK9KFrUSp60Ifq91KM5diLkob9GBDD+SpZ/rQr9uyEs0l2FgpWV5TDs/SMJDOfrtG8/8ngVvAk1r9V+TY9mWUI7Id8PfCpkyE1D7Nvvk9X3m6PU9qJ8I0TCACVsam7wT+A8I5ziGuVGjsAAAAAElFTkSuQmCC"},9403:function(t,e,i){"use strict";var n=i("9057"),a=i.n(n);a.a},a532:function(t,e,i){"use strict";var n=i("0f2e"),a=i.n(n);a.a},a8fa:function(t,e,i){"use strict";var n=i("1734"),a=i.n(n);a.a},b487:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAZhJREFUSEu9lb9LVlEYxz+fqak/wNmtIkMoB8FFEIQsNwcXEQpUkJZoaXSJlghUSBAXh7ZKQQhchIYSRMXcmv0DmpqeOHLPy/W+V19/vNcDh8N57jnf7z3Pj+8jDQ8vwo+IR8AT4AFwv1jTlSPgd7H+VA/OwzmXICKmgI/AF+CwmBmoD3hYzOfAS/VzHUktQUR8AEaBWXW7wyuHgSVgS31VPdtGEBEBbKjPrhKeiPgGjKlnMM9sij+/o85cBTyfjYhloFcdybYWQeHzF+pgFTwi7qnHZXudLX2PiB8pbur7tD8lKLJlBxhWd2sIjtSUSa0REW22CtaQup8JpgvwyTrXpLhUfVtnK7lqHdhWVzPBO+CvutAlgrfAXfVNJtgCFtXNLhE8BebU0UxwAvSraW0b13BRD7Cn9twaQeMuajzIjadpkuVUaKfFccNCe5xqIGOVpeI1MN4lqVhR11pSUarA78CfG4rdv7Js365cl17SXMMpkUwAn4CvHVrmODCffd6xo1UkOfXegQ5N/1dd5rU1nOt0sMvc+Q8svSgoJGNYQQAAAABJRU5ErkJggg=="},be74:function(t,e,i){"use strict";i.r(e);var n=i("7d29"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},d1e2:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var n={whiteHeads:i("ebb1").default,bingLyric:i("1c5f").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("whiteHeads",{attrs:{haveBack:!0,title:t.options.songName||"歌词"}}),n("bing-lyric",{attrs:{lyrics:t.lyrics,centerStyle:t.centerStyle,curTime:t.curTime,areaStyle:t.cuAreaStyle,lyricStyle:t.lyricStyle},on:{centerBtnClick:function(e){arguments[0]=e=t.$handleEvent(e),t.centerBtnClick.apply(void 0,arguments)},copyLyrics:function(e){arguments[0]=e=t.$handleEvent(e),t.copy.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"btns"},[n("v-uni-image",{attrs:{src:i("5367")}}),n("v-uni-image",{attrs:{src:i("7ad6"),mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.LastSong()}}}),t.playStatus?n("v-uni-image",{staticClass:"play",attrs:{src:i("9321"),mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.makeTime.apply(void 0,arguments)}}}):t._e(),t.playStatus?t._e():n("v-uni-image",{staticClass:"play",attrs:{src:i("b487"),mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.stop.apply(void 0,arguments)}}}),n("v-uni-image",{attrs:{src:i("fe8f"),mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.NextSong()}}}),n("v-uni-button",{attrs:{"open-type":"share"}},[n("v-uni-image",{staticClass:"share",staticStyle:{"margin-top":"20%"},attrs:{src:i("3823"),mode:""}})],1)],1)],1)},s=[]},ebb1:function(t,e,i){"use strict";i.r(e);var n=i("ff1a"),a=i("3a9d");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("a532");var c=i("f0c5"),r=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"2d30980c",null,!1,n["a"],void 0);e["default"]=r.exports},f138:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac1f"),i("a9e3"),i("e25e"),i("d401"),i("d3b7"),i("25f0"),i("acd8"),i("5319"),i("14d9"),i("26e9"),i("c975"),i("498a"),i("a434");var n={data:function(){return{font2line4height:2.5,selectAllStatus:!1,selects:{},scrollStatus:!1,touchIndex:0,curLyricId:"lrc-0",showLyricId:"lrc-0",curLyricIndex:0,selectStatus:!1,touchStatus:!1,showCenterView:!1,spaceLineNum:0,timeout:{centerViewHide:null,goCenter:null},cuSelectControlStyle:{height:"40px",itemFontSize:"16px",itemBorderRadius:"99px"},cuLyricStyle:{color:"#4d7e90",activeColor:"#ffffff",fontSize:"16px",activeFontSize:"16px",lineHeight:"40px",activeLineHeight:"40px",selectedBGColor:"inherit"},cuAreaStyle:{width:"100vw",height:"70vh"},cuCenterStyle:{btnImg:"",btnText:"btn",color:"#ffffff",lineHeight:"1px",height:"16px",fontSize:"14px"},scrollView:{height:"100%",top:0},screen:{width:0,height:0,px2rpxscale:1}}},beforeMount:function(){var t=uni.getSystemInfoSync();if(this.screen.width=t.windowWidth,this.screen.height=t.windowHeight,this.screen.px2rpxscale=750/t.windowWidth,this.cuAreaStyle=Object.assign(this.cuAreaStyle,this.areaStyle),this.cuLyricStyle=Object.assign(this.cuLyricStyle,this.lyricStyle),this.cuCenterStyle=Object.assign(this.cuCenterStyle,this.centerStyle),this.cuSelectControlStyle=Object.assign(this.cuSelectControlStyle,this.selectControlStyle),this.lyricStyle){if("activeFontSize"in this.lyricStyle||(this.cuLyricStyle["activeFontSize"]=this.cuLyricStyle["fontSize"]),!("lineHeight"in this.lyricStyle)){var e=this.sizeDeal(this.cuLyricStyle["fontSize"]);this.cuLyricStyle["lineHeight"]=e[0]*this.font2line4height+e[1]}if(!("activeLineHeight"in this.lyricStyle)){var i=this.sizeDeal(this.cuLyricStyle["activeFontSize"]);this.cuLyricStyle["activeLineHeight"]=i[0]*this.font2line4height+i[1]}}if(this.centerStyle&&!("height"in this.centerStyle)){var n=this.sizeDeal(this.cuCenterStyle["fontSize"]);this.cuCenterStyle["height"]=1.2*n[0]+n[1]}},mounted:function(){var t=this;this.$nextTick((function(){var e=uni.createSelectorQuery().in(t);e.select(".lyric-main").boundingClientRect((function(e){t.cuAreaStyle.height=e.height+"px";var i=t.sizeDeal(t.cuLyricStyle.lineHeight),n=t.sizeDeal(t.cuLyricStyle.activeLineHeight),a=Math.floor((e.height-n[0])/i[0]);a%2!==0&&(a-=1),t.spaceLineNum=Math.floor(a/2),t.scrollView.height=a*i[0]+n[0]+"px",t.scrollView.top=(e.height-(a*i[0]+n[0]))/2+"px"})).exec()}))},props:{selectControlStyle:{default:function(){},type:Object},centerStyle:{default:function(){},type:Object},lyrics:{default:function(){return[]},type:Array},curTime:{default:0,type:[Number,String]},lyricStyle:{default:function(){},type:Object},areaStyle:{default:function(){},type:Object}},watch:{curTime:function(t){var e=this.getIndex(t,this.mLyrics.times);this.curLyricIndex=e+this.spaceLineNum,this.curLyricId="lrc-"+e,this.touchStatus||this.selectStatus||(this.showLyricId=this.curLyricId)}},computed:{lineHeightNum:function(){var t=this.sizeDeal(this.cuLyricStyle.fontSize);return t[0]*this.font2line4height},centerTime:function(){var t=this.touchIndex-this.spaceLineNum,e=this.mLyrics.times[t];return this.timeFormat(e)},centerLineTop:function(){var t=this.sizeDeal(this.cuAreaStyle.height);return t=t[0]/2-this.sizeDeal(this.cuCenterStyle.height)[0]/2+t[1],t},lineHeight:function(){var t=this.sizeDeal(this.cuLyricStyle.fontSize);return 2*t[0]+t[1]},activeLineHeight:function(){var t=this.sizeDeal(this.cuLyricStyle.activeFontSize);return 2*t[0]+t[1]},mLyrics:function(){return this.lrcDeal(this.lyrics)}},methods:{selectAll:function(){var t=this;this.selectAllStatus=!this.selectAllStatus,this.$nextTick((function(){if(t.selectAllStatus)for(var e=0;e<t.mLyrics.lrcs.length;e++){var i=t.mLyrics.lrcs[e];i&&(t.selects[e]=i)}else t.selects={};t.$forceUpdate()}))},copyLyric:function(){var t={};for(var e in this.selects)t[this.mLyrics.times[e-this.spaceLineNum]]=this.selects[e];this.$emit("copyLyrics",{lyrics:t}),this.selectCancel()},selectCancel:function(){this.selectStatus=!1,this.touchStatus=!1,this.selectAllStatus=!1,this.selects={}},itemLongpress:function(t,e){this.scrollStatus||this.selectStatus||(this.selects={},this.selectModel(),t&&(this.selects[e]?delete this.selects[e]:this.selects[e]=t),this.$forceUpdate())},select:function(t,e){this.selects[e]?delete this.selects[e]:this.selects[e]=t,this.$forceUpdate()},selectModel:function(){this.showCenterView=!1,this.touchStatus=!1,this.selectStatus=!0},centerBtnClick:function(){var t=this.mLyrics.lrcs[this.touchIndex],e=Number(this.mLyrics.times[this.touchIndex-this.spaceLineNum]);this.$emit("centerBtnClick",{centerTime:e,centerLyric:t})},textTouchstart:function(){clearTimeout(this.timeout.goCenter),clearTimeout(this.timeout.centerViewHide),this.touchStatus=!0},textTouchEnd:function(){var t=this;this.touchStatus=2,this.scrollStatus=!1,this.selectStatus||(this.timeout.goCenter=setTimeout((function(){t.showLyricId="lrc-"+(t.touchIndex-t.spaceLineNum)}),500),this.timeout.centerViewHide=setTimeout(this.clearTouch,5e3))},clearTouch:function(){this.touchStatus=!1,this.showLyricId=this.curLyricId,this.showCenterView=!1},lyricScroll:function(t){var e=t.detail.scrollTop,i=Math.round(e/this.lineHeightNum);this.touchIndex=i+this.spaceLineNum,!0!==this.touchStatus||this.selectStatus||(this.scrollStatus=!0),!this.touchStatus||this.selectStatus||this.showCenterView||(this.showCenterView=!0),this.$forceUpdate()},getIndex:function(t,e){t=Number(t);var i=0;for(var n in e){var a=Number(e[n]);if(t==a)return i;if(t<a)return i-1;if(i==e.length-1)return e.length-1;i+=1}},timeFormat:function(t){if(t=Number(t),t>=0){var e=parseInt(t/3600),i=parseInt(t/60)-60*e,n=parseInt(t)-60*i;return 1==e.toString().length&&(e="0"+e),1==i.toString().length&&(i="0"+i),1==n.toString().length&&(n="0"+n),"00"!=e?e+":"+i+":"+n:i+":"+n}return""},sizeDeal:function(t){var e=Number.isNaN(parseFloat(t))?0:parseFloat(t),i=t.toString().replace(/[0-9\.]/g,"");return"rpx"==i?(e/=this.screen.px2rpxscale,i="px"):""==i?i="px":"vw"==i&&(i="px",e=e/100*750/this.screen.px2rpxscale),[e,i,e+i]},lrcDeal:function(t){var e={lrcs:[],times:[]};if(t.length<1)e.lrcs.push("还没有歌词...");else for(var i=0;i<t.length;i++){var n=t[i].toString(),a=n.split("]");if(a.length>1){var s=a[0].replace("[",""),c=s.split(":");if(c.length>1){var r=c.reverse(),o=0;if(-1!=r[0].indexOf("."))for(var l=0;l<r.length;l++)o+=Number(r[l])*Math.pow(60,l);else for(var u=0;u<r.length;u++)o+=0==u?Number(r[u])/1e3:Number(r[u])*Math.pow(60,u-1);o=o.toFixed(2);var h=a.splice(1,1e3).join("]").trim();h.length>0&&(e.times.push(o),e.lrcs.push(h))}else{var d=a.splice(1,1e3).join("]").trim();d.length>0&&(e.times.push(Number(s).toFixed(2)),e.lrcs.push(d))}}}for(var f=0;f<this.spaceLineNum;f++)e.lrcs.push(""),e.lrcs.splice(0,0,"");return e}}};e.default=n},f8f1:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"lyric-main",style:{width:t.cuAreaStyle.width,height:t.cuAreaStyle.height}},[i("v-uni-scroll-view",{staticClass:"lyric-show",style:{top:t.scrollView.top,width:t.cuAreaStyle.width,height:t.scrollView.height},attrs:{id:"lyric-show","scroll-with-animation":"true","scroll-y":!0,"scroll-into-view":t.showLyricId},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.lyricScroll.apply(void 0,arguments)}}},t._l(t.mLyrics.lrcs,(function(e,n){return i("v-uni-view",{key:n,staticClass:"lrc-item",on:{longpress:function(i){arguments[0]=i=t.$handleEvent(i),t.itemLongpress(e,n)},touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.textTouchstart.apply(void 0,arguments)},touchcancel:function(e){arguments[0]=e=t.$handleEvent(e),t.textTouchEnd.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.textTouchEnd.apply(void 0,arguments)},click:function(i){arguments[0]=i=t.$handleEvent(i),t.select(e,n)}}},[t.selectStatus&&t.selects[n]&&e?i("v-uni-text",{staticClass:"check",attrs:{value:"[v,i]"}},[t._v("✔")]):t._e(),i("v-uni-text",{staticClass:"lrc",style:{opacity:t.touchIndex==n&&t.touchStatus&&!t.selectStatus?.8:1,color:(t.curLyricIndex==n||t.touchIndex==n&&t.touchStatus)&&!t.selectStatus?t.cuLyricStyle.activeColor:t.cuLyricStyle.color,fontSize:(t.curLyricIndex==n||t.touchIndex==n&&t.touchStatus)&&!t.selectStatus?t.cuLyricStyle.activeFontSize:t.cuLyricStyle.fontSize,height:(t.curLyricIndex==n||t.touchIndex==n&&t.touchStatus)&&!t.selectStatus?t.cuLyricStyle.activeLineHeight:t.cuLyricStyle.lineHeight},attrs:{id:"lrc-"+n}},[t._v(t._s(e))])],1)})),1),i("v-uni-view",{staticClass:"center-view",style:{top:t.centerLineTop,display:t.showCenterView?"flex":"none",fontSize:t.cuCenterStyle.fontSize,height:t.cuCenterStyle.height}},[t.cuCenterStyle.btnImg?i("v-uni-image",{staticClass:"center-btn",style:{width:t.cuCenterStyle.height,height:t.cuCenterStyle.height},attrs:{src:t.cuCenterStyle.btnImg},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.centerBtnClick.apply(void 0,arguments)}}}):i("v-uni-view",{staticClass:"center-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.centerBtnClick.apply(void 0,arguments)}}},[t._v(t._s(t.cuCenterStyle.btnText))]),i("v-uni-view",{staticClass:"center-line",style:{height:t.cuCenterStyle.lineHeight}}),i("v-uni-view",{staticClass:"center-time"},[t._v(t._s(t.centerTime))])],1),t.selectStatus?i("v-uni-view",{staticClass:"selectControl",style:{color:t.cuSelectControlStyle.color,fontSize:t.cuSelectControlStyle.itemFontSize}},[i("v-uni-view",{staticClass:"selectAll",style:{borderRadius:t.cuSelectControlStyle.itemBorderRadius},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectAll.apply(void 0,arguments)}}},[t._v(t._s(t.selectAllStatus?"全不选":"全选"))]),i("v-uni-view",{staticClass:"copy",style:{borderRadius:t.cuSelectControlStyle.itemBorderRadius},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copyLyric.apply(void 0,arguments)}}},[t._v("复制歌词")]),i("v-uni-view",{staticClass:"cancel",style:{borderRadius:t.cuSelectControlStyle.itemBorderRadius},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectCancel.apply(void 0,arguments)}}},[t._v("取消")])],1):t._e()],1)},a=[]},fe8f:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAOVJREFUSEvNlTtKg0EURs9xAW7FNFa6GF2AwTUodroErQ0EtHQLYiGCi7ASQRsVvXohP6TIO3Mh0w0z8x3uN/chxctifTYfEBE9QPVxkhtTI4iIQ+BGfZtlY0Q85Lm6uywgH34AR+rzNMi6gG3gEzhRh5MgLQCd7jVwpn6Ng1oCUvcJ6KsvHaQ1IHVfgWP1PjcVgNT9AS7UyypA59AdsA/8rpqmmUWzVgL20qnWgLToXL2qsKj0k0vTdACcqt+tC620VbyPKrek2R0At2XtetFRGhE7/912a+mBsyhg3r3Nn8nzIvgDbjmeGR1SiIMAAAAASUVORK5CYII="},ff1a:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var n={uIcon:i("7154").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{},[t.haveJian?n("v-uni-view",{staticClass:"head",style:{paddingTop:t.titleHeight+"px"}}):t._e(),n("v-uni-view",{staticClass:"p"},[n("v-uni-view",{staticClass:"title",style:{paddingTop:t.titleHeight+"px",color:t.color}},[t.haveLogo?n("v-uni-image",{attrs:{src:i("419c")}}):t._e(),t.haveBack?n("u-icon",{staticClass:"icon",attrs:{name:"arrow-left"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toBack()}}}):t._e(),n("v-uni-view",[t._v(t._s(t.title))])],1),n("v-uni-view",{staticClass:"jian",style:{paddingTop:t.titleHeight+"px",opacity:t.sTop/100}})],1)],1)},s=[]}}]);