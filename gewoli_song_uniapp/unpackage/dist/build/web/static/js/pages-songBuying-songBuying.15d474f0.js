(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-songBuying-songBuying"],{"034e":function(t,e,i){"use strict";i.r(e);var a=i("8288"),n=i("c5a2");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("afc7");var c=i("f0c5"),s=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"9621568c",null,!1,a["a"],void 0);e["default"]=s.exports},"3ce6":function(t,e,i){"use strict";i.r(e);var a=i("6993"),n=i("6846");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("d3f3");var c=i("f0c5"),s=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"3887a8dc",null,!1,a["a"],void 0);e["default"]=s.exports},"3de4":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */[data-v-9621568c] .u-tabbar__content .u-tabbar__content__circle .u-icon__img{width:%?82?%!important;height:%?82?%!important}[data-v-9621568c] .u-tabbar__content .u-icon__img{width:%?48?%!important;height:%?48?%!important}[data-v-9621568c] .u-tabbar__content__circle__border{top:0!important}[data-v-9621568c] .u-tabbar__content__circle__button{top:4px!important}.content[data-v-9621568c]{width:100vw;height:100vh;overflow:auto;background-size:100% 100%}.top_box[data-v-9621568c]{width:90vw;margin:0 auto;height:%?200?%;background:url(https://image-file2024.oss-cn-beijing.aliyuncs.com/geWoLiMusicMall/backgroundImage/image1.jpg);border-radius:%?30?%;display:flex;align-items:center;justify-content:space-between;padding:%?50?%;color:#fff}.top_box .top_box_title[data-v-9621568c]{font-size:%?30?%}.top_box .top_box_desc[data-v-9621568c]{padding-top:%?10?%;font-size:%?24?%}.top_box .top_box_price[data-v-9621568c]{font-size:%?30?%;color:#f83859;font-weight:600}.content_box[data-v-9621568c]{margin:10% %?50?% 0 %?50?%}.content_box .desc_text[data-v-9621568c]{margin-top:%?20?%;color:#acaaab;font-weight:700;font-size:%?30?%}.content_box .desc_text_two[data-v-9621568c]{margin-top:%?20?%;color:#ccc;font-size:%?26?%}.content_box .form[data-v-9621568c]{margin-top:10%}.content_box .form_box[data-v-9621568c]{width:100%;margin:0 auto;height:%?120?%;background-color:#f5f5f5;border-radius:%?20?%}.content_box .form_box .form_box_input[data-v-9621568c]{padding:%?20?%}.content_box .form_box .form_box_input uni-input[data-v-9621568c]{height:%?87?%}.btn_yzm[data-v-9621568c]{width:%?180?%;height:%?50?%;border-radius:%?50?%;line-height:%?50?%;border:%?1?% solid #aaa;font-size:%?24?%;text-align:center}.xy[data-v-9621568c]{margin-top:5%;padding-left:%?50?%;padding-right:%?50?%;padding-bottom:40%}.xy .xy_title[data-v-9621568c]{font-size:%?28?%;color:#000;font-weight:700}.xy .xy_item[data-v-9621568c]{color:#aaa;font-size:%?26?%;margin-top:%?20?%}.xy .xy_item .xy_text_color[data-v-9621568c]{color:#f83859}.bottom_meun[data-v-9621568c]{width:100%;height:%?160?%;background-color:#fff;box-shadow:0 8px 16px rgba(0,0,0,.2);position:fixed;bottom:0;padding-bottom:27%}.bottom_meun .btn_box[data-v-9621568c]{display:flex;align-items:center;justify-content:space-between;padding-left:%?50?%;padding-right:%?50?%;padding-top:%?10?%}.bottom_meun .btn[data-v-9621568c]{width:%?200?%;height:%?80?%;text-align:center;line-height:%?80?%;background-color:#f83859;border-radius:%?50?%;color:#fff}.bottom_meun .radio[data-v-9621568c]{padding:%?20?% %?50?% %?20?% %?50?%}.bottom_meun .price[data-v-9621568c]{color:#f83859}.wxplay_box[data-v-9621568c]{border-radius:%?30?%;width:70vw;height:%?300?%;background-color:#fff;display:flex;align-items:center;justify-content:space-around}.wxplay_box img[data-v-9621568c]{width:100%;height:100%}.wxplay_box .wxplay_item[data-v-9621568c]{display:flex;flex-direction:column;align-items:center;width:50%;height:50%}.wxplay_box .wxplay_item .item_icon[data-v-9621568c]{width:%?70?%;height:%?70?%;margin-bottom:10%}',""]),t.exports=e},"419c":function(t,e,i){t.exports=i.p+"static/logo.png"},6846:function(t,e,i){"use strict";i.r(e);var a=i("eaca"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},6993:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={uIcon:i("7154").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{},[a("v-uni-view",{staticClass:"head",style:{paddingTop:t.titleHeight+"px"}}),a("v-uni-view",{staticClass:"p"},[a("v-uni-view",{staticClass:"title",style:{paddingTop:t.titleHeight+"px"}},[t.haveBack?a("u-icon",{staticClass:"icon",attrs:{name:"arrow-left"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toBack()}}}):t._e(),t.haveLogo?a("v-uni-image",{attrs:{src:i("419c")}}):t._e(),a("v-uni-view",[t._v(t._s(t.title))])],1),a("v-uni-view",{staticClass:"jian",style:{paddingTop:t.titleHeight+"px",opacity:t.sTop/100}})],1)],1)},o=[]},8288:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={heads:i("3ce6").default,uniPopup:i("f8c6").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-scroll-view",{staticClass:"content",attrs:{"scroll-y":"true"},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.scrollMain.apply(void 0,arguments)}}},[i("heads",{attrs:{haveLogo:!1,haveBack:!0,sTop:t.scrollTop,title:"歌曲购买"}}),i("v-uni-view",{staticClass:"top_box"},[i("v-uni-view",[i("v-uni-view",{staticClass:"top_box_title"},[t._v("词曲著作财产权")]),i("v-uni-view",{staticClass:"top_box_desc"},[t._v("方式：独家永久买断，不支持退款")])],1),i("v-uni-view",{staticClass:"top_box_price"},[t._v("￥"+t._s(t.curItem.currentPrice)),1==t.curItem.isScoreBuy?i("v-uni-text",[t._v("/"+t._s(t.curItem.scoreSum)+"积分")]):t._e()],1)],1),i("v-uni-view",{staticClass:"content_box"},[i("v-uni-view",{staticClass:"desc_text"},[t._v("实名认证信息")]),i("v-uni-view",{staticClass:"desc_text_two"},[t._v("仅在“上上签”签署版权转让协议时使用")]),i("v-uni-view",{staticClass:"form"}),i("v-uni-view",{staticClass:"form_box"},[i("v-uni-view",{staticClass:"form_box_input"},[i("v-uni-input",{attrs:{type:"text",placeholder:"输入本人姓名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),i("v-uni-view",{staticClass:"form"}),i("v-uni-view",{staticClass:"form_box"},[i("v-uni-view",{staticClass:"form_box_input"},[i("v-uni-input",{attrs:{type:"text",placeholder:"输入本人身份证"},model:{value:t.cardNo,callback:function(e){t.cardNo=e},expression:"cardNo"}})],1)],1),i("v-uni-view",{staticClass:"desc_text",staticStyle:{"margin-top":"10%"}},[t._v("联系方式")]),i("v-uni-view",{staticClass:"form"}),i("v-uni-view",{staticClass:"form_box"},[i("v-uni-view",{staticClass:"form_box_input"},[i("v-uni-input",{attrs:{type:"text",placeholder:"输入本人手机号"},model:{value:t.phoneNumber,callback:function(e){t.phoneNumber=e},expression:"phoneNumber"}})],1)],1),i("v-uni-view",{staticClass:"form"}),i("v-uni-view",{staticClass:"form_box"},[i("v-uni-view",{staticClass:"form_box_input",staticStyle:{display:"flex","align-items":"center","justify-content":"space-between"}},[i("v-uni-input",{attrs:{type:"text",placeholder:"输入验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),i("v-uni-button",{staticClass:"btn_yzm",attrs:{disabled:t.codeFlag},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getSendSms.apply(void 0,arguments)}}},[t._v(t._s(t.codeValue))])],1)],1)],1),i("v-uni-view",{staticClass:"xy"},[i("v-uni-view",{staticClass:"xy_title"},[t._v("下单须知")]),i("v-uni-view",{staticClass:"xy_item"},[t._v("*订单支付后，您将签署以下协议，获得歌曲相关权利")]),i("v-uni-view",{staticClass:"xy_item"},[t._v("*签署"),i("v-uni-text",{staticClass:"xy_text_color",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPage.apply(void 0,arguments)}}},[t._v("《音乐作品著作财产权转让合同》")]),t._v("获得词权利")],1),i("v-uni-view",{staticClass:"xy_item"},[t._v("*签署"),i("v-uni-text",{staticClass:"xy_text_color",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPage.apply(void 0,arguments)}}},[t._v("《音乐作品著作财产权转让合同》")]),t._v("获得曲权利")],1),i("v-uni-view",{staticClass:"xy_item"},[t._v("*签署"),i("v-uni-text",{staticClass:"xy_text_color",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPage.apply(void 0,arguments)}}},[t._v("《音乐作品权利转让合同》")]),t._v("获得邻接权等权利")],1)],1),i("v-uni-view",{staticClass:"bottom_meun"},[i("v-uni-radio-group",{staticClass:"radio",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.radioChange.apply(void 0,arguments)}}},[i("v-uni-label",[i("v-uni-radio",{attrs:{value:t.groupValue}}),t._v("我已阅读并同意签署版权转让相关合同")],1)],1),i("v-uni-view",{staticStyle:{"background-color":"rgb(238, 238, 238)",height:"2rpx",width:"100%"}}),i("v-uni-view",{staticClass:"btn_box"},[i("v-uni-view",[t._v("总价:"),i("v-uni-text",{staticClass:"price"},[t._v("￥"+t._s(t.curItem.currentPrice)),1==t.curItem.isScoreBuy?i("v-uni-text",[t._v("/"+t._s(t.curItem.scoreSum)+"积分")]):t._e()],1)],1),i("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.open.apply(void 0,arguments)}}},[t._v("立即购买")])],1)],1)],1),i("uni-popup",{ref:"popup",attrs:{type:"center","border-radius":"10px 10px 0 0"}},[i("v-uni-view",{staticClass:"wxplay_box"},[1==t.curItem.isScoreBuy?i("v-uni-view",{staticClass:"wxplay_item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buy(2)}}},[i("v-uni-view",{staticClass:"item_icon"},[i("img",{attrs:{src:"/static/icon/jfzf.png",alt:""}})]),i("v-uni-view",[t._v("积分支付")])],1):t._e(),i("v-uni-view",{staticClass:"wxplay_item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buy(1)}}},[i("v-uni-view",{staticClass:"item_icon"},[i("img",{attrs:{src:"/static/icon/wxzf.png",alt:""}})]),i("v-uni-view",{},[t._v("微信支付")])],1)],1)],1)],1)},o=[]},afc7:function(t,e,i){"use strict";var a=i("d182"),n=i.n(a);n.a},c13a:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */[data-v-3887a8dc] .u-tabbar__content .u-tabbar__content__circle .u-icon__img{width:%?82?%!important;height:%?82?%!important}[data-v-3887a8dc] .u-tabbar__content .u-icon__img{width:%?48?%!important;height:%?48?%!important}[data-v-3887a8dc] .u-tabbar__content__circle__border{top:0!important}[data-v-3887a8dc] .u-tabbar__content__circle__button{top:4px!important}.head[data-v-3887a8dc]{width:100vw;height:%?72?%;box-sizing:initial}.p[data-v-3887a8dc]{position:fixed;top:0;z-index:999}.title[data-v-3887a8dc]{display:flex;align-content:center;justify-content:center;position:relative;width:100vw;font-size:%?40?%;font-weight:400;z-index:2}.title uni-image[data-v-3887a8dc],\r\n.title .icon[data-v-3887a8dc]{position:absolute;width:%?72?%;height:%?72?%;left:%?52?%;border-radius:%?10?%}.title uni-view[data-v-3887a8dc]{height:%?72?%}.jian[data-v-3887a8dc]{position:fixed;top:0;background:#edc7a7;width:100vw;height:%?72?%;box-sizing:initial;box-shadow:0 0 %?10?% #edc7a7}',""]),t.exports=e},c5a2:function(t,e,i){"use strict";i.r(e);var a=i("f7b1"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},d182:function(t,e,i){var a=i("3de4");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("c2720166",a,!0,{sourceMap:!1,shadowMode:!1})},d3f3:function(t,e,i){"use strict";var a=i("d531"),n=i.n(a);n.a},d531:function(t,e,i){var a=i("c13a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("6b481fa2",a,!0,{sourceMap:!1,shadowMode:!1})},eaca:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3");var a={props:{title:{type:String,default:""},sTop:{type:Number,default:0},haveLogo:{type:Boolean,default:!0},haveBack:{type:Boolean,default:!1}},computed:{titleHeight:function(){return getApp().globalData.titleHeight}},methods:{}};e.default=a},f7b1:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("4a78"),n={data:function(){return{scrollTop:0,groupValue:!1,phoneNumber:"",name:"",cardNo:"",curItem:{},code:"",codeValue:"获取验证码",codeFlag:!1}},methods:{radioChange:function(t){console.log(t.detail),this.groupValue=!this.groupValue},scrollMain:function(t){},getSendSms:function(){var t=this;if(this.phoneNumber){if(this.codeValue=60,this.codeFlag=!0,60===this.codeValue){this.codeValue=59;var e=setInterval((function(){t.codeValue>0?t.codeValue--:(clearInterval(e),t.codeValue="获取验证码",t.codeFlag=!1)}),1e3),i={phoneNumber:this.phoneNumber};this.$req.post("user/sendSms",i,"form").then((function(t){console.log(t)}))}}else uni.showToast({title:"请填写手机号",icon:"none"})},open:function(){var t=this;if(this.name&&this.cardNo&&this.phoneNumber&&this.code)if(this.groupValue){var e={phoneNumber:this.phoneNumber,code:this.code};uni.request({url:a.BASEURL+"/user/smsFlag",method:"GET",data:e,header:{Authorization:uni.getStorageSync("token")||"","content-type":"application/x-www-form-urlencoded"},success:function(e){console.log(e.data.msg),"验证码正确"==e.data.msg&&t.auth(),uni.showToast({title:e.data.msg,icon:"none"})}})}else uni.showToast({title:"请阅读并勾选同意协议",icon:"none"});else uni.showToast({title:"请填写全部信息",icon:"none"})},auth:function(){var t=this,e={cardNo:this.cardNo,name:this.name};this.$req.post("user/auth",e).then((function(e){"身份证号和姓名一致"==e.data.msg&&t.$refs.popup.open(),uni.showToast({title:e.data.msg,icon:"none"})}))},buy:function(t){var e=this,i=this;console.log(t);var a=this.curItem,n=uni.getStorageSync("userInfo").roleType,o=uni.getStorageSync("userInfo").musiciansSignStatus;if("2"==n&&"3"!==o)return uni.showToast({title:"请签约后购买",icon:"none"}),void uni.navigateTo({url:"/pages/upUserInfo/upUserInfo"});var c={userId:uni.getStorageSync("userInfo").id,goodsId:a.id,phone:uni.getStorageSync("userInfo").reviewPhone,payMethod:1};2==t?c.payMethod=2:1==t&&(c.payMethod=1),this.$req.put("song/order/payment",c).then((function(t){if(t.data.timeStamp)uni.requestPayment({provider:"wxpay",timeStamp:t.data.timeStamp,nonceStr:t.data.nonceStr,package:"prepay_id="+t.data.packageStr,signType:"MD5",paySign:t.data.paySign,success:function(t){uni.showToast({title:"支付成功",icon:"none"}),setTimeout((function(){e.toUrl("/pages/order/singOrderList")}),500),i.$refs.popup.close()},fail:function(t){uni.showToast({title:"支付失败,请重试",icon:"none"}),i.$refs.popup.close()}});else{if(e.$refs.popup.close(),500==t.code)return void uni.showToast({title:"积分不足",icon:"none"});uni.showToast({title:"积分支付成功",icon:"none"}),setTimeout((function(){e.toUrl("/pages/order/singOrderList")}),500)}}))},goPage:function(){uni.navigateTo({url:"/pages/agreement/agreement"})}},onLoad:function(t){this.curItem=JSON.parse(t.item)}};e.default=n}}]);