(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"0e80":function(t,e,n){"use strict";n("7a82");var i=n("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("ac1f"),n("00b4"),n("14d9");var a=i(n("f07e")),o=i(n("c964")),c={data:function(){return{show:!1,code:null,tips:null,phoneNumber:null,list:[{checked:!0,disabled:!1}]}},onLoad:function(){return(0,o.default)((0,a.default)().mark((function t(){return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:{phonenumberLogin:function(){var t=this;if(this.phoneNumber&&/^1[3456789]\d{9}$/.test(this.phoneNumber)){if(console.log("APP"),!this.list[0].checked)return uni.showToast({icon:"none",title:"请勾选用户协议"}),!1;this.$req.post("user/login?phoneNumber="+this.phoneNumber+"&code="+this.code).then((function(e){var n=e.data;uni.setStorageSync("userInfo",n.user),uni.setStorageSync("token",n.token),t.toUrl("/pages/tabbar/index/index")}))}else uni.$u.toast("手机号不合法")},login:function(){var t=this;this.list[0].checked?this.$req.wxLogin("/pages/tabbar/index/index").then((function(e){var n=e.data.data,i=uni.getStorageSync("shareId")||null,a={ids:[],score:""};a.ids.push(n.user.id),a.ids.push(i),t.$req.get("system/config/configKey/sys.user.socre").then((function(t){a.score=t.msg})),console.log(a),1==n.inFlag&&null!=i&&t.$req.put("mobileEndUser/addScore",a,"form")})):uni.showToast({icon:"none",title:"请勾选用户协议"})},open:function(){this.show=!0},close:function(){this.show=!1},getCode:function(){var t=this;this.phoneNumber&&/^1[3456789]\d{9}$/.test(this.phoneNumber)?this.$refs.uCode.canGetCode?(uni.showLoading({title:"正在获取验证码"}),this.$req.post("user/sendSms?phoneNumber="+this.phoneNumber).then((function(e){uni.hideLoading(),uni.$u.toast(e.msg),t.$refs.uCode.start()}))):uni.$u.toast("倒计时结束后再发送"):uni.$u.toast("手机号不合法")},change:function(t){console.log("change",t)},codeChange:function(t){this.tips=t}}};e.default=c},"1c3c":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showPrivacy?n("v-uni-view",{staticClass:"privacy"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"title"},[t._v("隐私保护指引")]),n("v-uni-view",{staticClass:"des"},[t._v("在使用当前小程序服务之前，请仔细阅读"),n("v-uni-text",{staticClass:"link",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openPrivacyContract.apply(void 0,arguments)}}},[t._v(t._s(t.privacyContractName))]),t._v("。如你同意"+t._s(t.privacyContractName)+"，请点击“同意”开始使用。")],1),n("v-uni-view",{staticClass:"btns"},[n("v-uni-button",{staticClass:"item reject",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.exitMiniProgram.apply(void 0,arguments)}}},[t._v("拒绝")]),n("v-uni-button",{staticClass:"item agree",attrs:{id:"agree-btn","open-type":"agreePrivacyAuthorization"},on:{agreeprivacyauthorization:function(e){arguments[0]=e=t.$handleEvent(e),t.handleAgreePrivacyAuthorization.apply(void 0,arguments)}}},[t._v("同意")])],1)],1)],1):t._e()},a=[]},"29f3":function(t,e,n){"use strict";n.r(e);var i=n("fdb8"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"2e65":function(t,e,n){"use strict";n.r(e);var i=n("5e6a"),a=n("c720");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("ac0f");var c=n("f0c5"),r=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"3f7be65c",null,!1,i["a"],void 0);e["default"]=r.exports},3242:function(t,e,n){"use strict";n.r(e);var i=n("0e80"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},3649:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */[data-v-3f7be65c] .u-tabbar__content .u-tabbar__content__circle .u-icon__img{width:%?82?%!important;height:%?82?%!important}[data-v-3f7be65c] .u-tabbar__content .u-icon__img{width:%?48?%!important;height:%?48?%!important}[data-v-3f7be65c] .u-tabbar__content__circle__border{top:0!important}[data-v-3f7be65c] .u-tabbar__content__circle__button{top:4px!important}.u-code-wrap[data-v-3f7be65c]{width:0;height:0;position:fixed;z-index:-1}',""]),t.exports=e},"419c":function(t,e,n){t.exports=n.p+"static/logo.png"},"43f7":function(t,e,n){"use strict";n.r(e);var i=n("a082"),a=n("3242");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("6f0b");var c=n("f0c5"),r=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"25326936",null,!1,i["a"],void 0);e["default"]=r.exports},"5e6a":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"u-code-wrap"})},a=[]},"5fdc":function(t,e,n){var i=n("e1b8");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("5537aab2",i,!0,{sourceMap:!1,shadowMode:!1})},"615b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAQJJREFUSEvtlT1KQ1EQRs/BQhFES8EUNmotbsDOFYi9nRsQt2Ab0NYqjUuws7ewdQEmlSCKFopMvCAh6oM7r0iqN3DhFjPfN/8jMxZnjM/8CSJiATgDDoHVZIQj4EId/NX/F0FEnAOnwCfwliRYAYpjR+r1tE0TwRMQwI5a/lWJiD3gDrhRD2oEBfxe3a0iTylERKNdUwQdwa/Udima9FHbLvoAhm3aFNgEHtVeZg6+gNeWBGvFKXUjQ9AN2iRLTXPw8r1N34EtNVWHiNgGHoBbdb9Wg0vgBHj+eZlarwNLwLF6VSNYBMpNKAdnOYMOlLXeV/vVg5METKvN/yanXUsqjgGw5KIZAoM24wAAAABJRU5ErkJggg=="},"67e9":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */[data-v-25326936] .u-tabbar__content .u-tabbar__content__circle .u-icon__img{width:%?82?%!important;height:%?82?%!important}[data-v-25326936] .u-tabbar__content .u-icon__img{width:%?48?%!important;height:%?48?%!important}[data-v-25326936] .u-tabbar__content__circle__border{top:0!important}[data-v-25326936] .u-tabbar__content__circle__button{top:4px!important}[data-v-25326936] .u-checkbox__icon-wrap{border:1px solid #e9c19c!important}[data-v-25326936] .u-checkbox__label{margin-right:0!important}.content[data-v-25326936]{width:100vw;height:100vh;overflow:auto;background:url(https://image-file2024.oss-cn-beijing.aliyuncs.com/geWoLiMusicMall/backgroundImage/image5.jpg);background-size:100% 100%}.content .logo[data-v-25326936]{display:block;margin:%?200?% auto 0;width:%?172?%;height:%?172?%}.content .tit[data-v-25326936]{color:#000;font-size:%?48?%;font-weight:500;margin-top:%?20?%;text-align:center}.content .view[data-v-25326936]{width:%?686?%;height:%?96?%;border:%?4?% solid #fda149;margin:0 auto;border-radius:%?58?% %?58?% %?58?% %?58?%;display:flex;align-items:center;color:#fff;display:flex;align-items:center;justify-content:center;font-size:%?32?%;font-weight:800}.content .view uni-image[data-v-25326936]{width:%?48?%;height:%?48?%;margin-right:%?8?%}.content .check1[data-v-25326936]{margin-top:%?250?%;background:linear-gradient(92deg,#ffd0a4,#fab06c 33%,#fab06c 73%,#ffc996)}.content .check2[data-v-25326936]{margin-top:%?48?%;background:0}.clause[data-v-25326936]{position:fixed;bottom:%?62?%;left:0;right:0;margin:auto;display:flex;justify-content:center;align-items:center}.clause .txt1[data-v-25326936]{font-size:%?24?%}.clause uni-text[data-v-25326936]{font-size:%?24?%}.clause .txt2[data-v-25326936]{color:#e9c19c}',""]),t.exports=e},"6f0b":function(t,e,n){"use strict";var i=n("7027"),a=n.n(i);a.a},7027:function(t,e,n){var i=n("67e9");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("1fff8b4f",i,!0,{sourceMap:!1,shadowMode:!1})},"94c9d":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3"),n("ac1f"),n("5319");var i={name:"u-verification-code",props:{seconds:{type:[String,Number],default:60},startText:{type:String,default:"获取验证码"},changeText:{type:String,default:"X秒重新获取"},endText:{type:String,default:"重新获取"},keepRunning:{type:Boolean,default:!1},uniqueKey:{type:String,default:""}},data:function(){return{secNum:this.seconds,timer:null,canGetCode:!0}},mounted:function(){this.checkKeepRunning()},watch:{seconds:{immediate:!0,handler:function(t){this.secNum=t}}},methods:{checkKeepRunning:function(){var t=Number(uni.getStorageSync(this.uniqueKey+"_$uCountDownTimestamp"));if(!t)return this.changeEvent(this.startText);var e=Math.floor(+new Date/1e3);this.keepRunning&&t&&t>e?(this.secNum=t-e,uni.removeStorageSync(this.uniqueKey+"_$uCountDownTimestamp"),this.start()):this.changeEvent(this.startText)},start:function(){var t=this;this.timer&&(clearInterval(this.timer),this.timer=null),this.$emit("start"),this.canGetCode=!1,this.changeEvent(this.changeText.replace(/x|X/,this.secNum)),this.setTimeToStorage(),this.timer=setInterval((function(){--t.secNum?t.changeEvent(t.changeText.replace(/x|X/,t.secNum)):(clearInterval(t.timer),t.timer=null,t.changeEvent(t.endText),t.secNum=t.seconds,t.$emit("end"),t.canGetCode=!0)}),1e3)},reset:function(){this.canGetCode=!0,clearInterval(this.timer),this.secNum=this.seconds,this.changeEvent(this.endText)},changeEvent:function(t){this.$emit("change",t)},setTimeToStorage:function(){if(this.keepRunning&&this.timer&&this.secNum>0&&this.secNum<=this.seconds){var t=Math.floor(+new Date/1e3);uni.setStorage({key:this.uniqueKey+"_$uCountDownTimestamp",data:t+Number(this.secNum)})}}},beforeDestroy:function(){this.setTimeToStorage(),clearTimeout(this.timer),this.timer=null}};e.default=i},"9eef":function(t,e,n){"use strict";n.r(e);var i=n("1c3c"),a=n("29f3");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("ef4f");var c=n("f0c5"),r=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"55498806",null,!1,i["a"],void 0);e["default"]=r.exports},a082:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uCheckboxGroup:n("fda7").default,uCheckbox:n("5d28").default,privacyPop:n("9eef").default,uPopup:n("6eef").default,uField:n("13f3").default,uButton:n("d89e").default,uVerificationCode:n("2e65").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-image",{staticClass:"logo",attrs:{src:n("419c")}}),i("v-uni-view",{staticClass:"tit"},[t._v("歌窝里")]),i("v-uni-button",{staticClass:"view check2",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.show=!0}}},[i("v-uni-image",{attrs:{src:n("615b")}}),t._v("手机号登陆")],1),i("v-uni-view",{staticClass:"clause"},[i("u-checkbox-group",t._l(t.list,(function(e,n){return i("u-checkbox",{key:n,attrs:{shape:"circle","active-color":"#E9C19C"},model:{value:e.checked,callback:function(n){t.$set(e,"checked",n)},expression:"item.checked"}},[i("v-uni-text",{staticClass:"txt1"},[t._v("我已阅读并同意")])],1)})),1),i("v-uni-text",{staticClass:"txt2"},[t._v("《用户协议》")]),i("v-uni-text",[t._v("和")]),i("v-uni-text",{staticClass:"txt2"},[t._v("《隐私协议》")])],1),i("privacyPop",{ref:"PrivacyPopck"}),i("u-popup",{attrs:{mode:"center",closeable:!0,"border-radius":"20",width:"80%",height:"600"},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)},open:function(e){arguments[0]=e=t.$handleEvent(e),t.open.apply(void 0,arguments)}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("v-uni-view",{staticClass:"u-flex u-row-center",staticStyle:{"margin-top":"10rpx"}},[i("v-uni-text",{staticStyle:{"font-weight":"bold","font-size":"50rpx","text-decoration":"blink","text-shadow":"2px 8px 12px #fda149"}},[t._v("欢迎登录")])],1),i("v-uni-view",{staticClass:"u-flex u-col-center u-flex-wrap",staticStyle:{height:"400rpx"}},[i("u-field",{attrs:{label:"手机号",required:!0,placeholder:"请填写手机号",icon:"phone"},model:{value:t.phoneNumber,callback:function(e){t.phoneNumber=e},expression:"phoneNumber"}}),i("u-field",{staticStyle:{"margin-top":"-120rpx"},attrs:{label:"验证码",required:!0,placeholder:"请填写验证码",icon:"order"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}},[i("u-button",{attrs:{slot:"right",size:"mini",type:"success"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCode.apply(void 0,arguments)}},slot:"right"},[t._v(t._s(t.tips))])],1),i("u-verification-code",{ref:"uCode",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.codeChange.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"u-flex u-row-center u-col-center"},[i("u-button",{attrs:{shape:"square",size:"medium",type:"warning"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.phonenumberLogin.apply(void 0,arguments)}}},[t._v("登录")])],1)],1)],1)},o=[]},ac0f:function(t,e,n){"use strict";var i=n("f8af"),a=n.n(i);a.a},c720:function(t,e,n){"use strict";n.r(e);var i=n("94c9d"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},e1b8:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".privacy[data-v-55498806]{position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.5);z-index:9999999;display:flex;align-items:center;justify-content:center}.content[data-v-55498806]{width:%?632?%;padding:%?48?%;box-sizing:border-box;background:#fff;border-radius:%?16?%}.content .title[data-v-55498806]{text-align:center;color:#333;font-weight:700;font-size:%?32?%}.content .des[data-v-55498806]{font-size:%?26?%;color:#666;margin-top:%?40?%;text-align:justify;line-height:1.6}.content .des .link[data-v-55498806]{color:#07c160;text-decoration:underline}.btns[data-v-55498806]{margin-top:%?48?%;display:flex}.btns .item[data-v-55498806]{justify-content:space-between;width:%?244?%;height:%?80?%;display:flex;align-items:center;justify-content:center;border-radius:%?16?%;box-sizing:border-box;border:none}.btns .reject[data-v-55498806]{background:#f4f4f5;color:#909399}.btns .agree[data-v-55498806]{background:#07c160;color:#fff}",""]),t.exports=e},ef4f:function(t,e,n){"use strict";var i=n("5fdc"),a=n.n(i);a.a},f8af:function(t,e,n){var i=n("3649");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("52f99009",i,!0,{sourceMap:!1,shadowMode:!1})},fdb8:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{privacyContractName:"《歌窝里隐私保护引导》",showPrivacy:!1}},methods:{checkPrivacySetting:function(){var t=this;uni.getPrivacySetting({success:function(e){console.log("getPrivacySetting",e),t.showPrivacy=!0},fail:function(){},complete:function(){}})},openPrivacyContract:function(){uni.openPrivacyContract({fail:function(){uni.showToast({title:"遇到错误",icon:"error"})}})},exitMiniProgram:function(){console.log("拒绝隐私协议");var t=this;uni.showModal({content:"您确定要拒绝吗?",success:function(e){e.confirm&&(t.showPrivacy=!1,uni.exitMiniProgram({success:function(){console.log("退出小程序成功")}}))}})},handleAgreePrivacyAuthorization:function(){var t=this;wx.requirePrivacyAuthorize({success:function(){t.showPrivacy=!1},fail:function(){},complete:function(){}})}}};e.default=i}}]);